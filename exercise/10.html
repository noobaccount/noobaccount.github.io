<!DOCTYPE html>
<html>
    <head>
        <title>Frame Animation etc</title>
        <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
        <script>
            window.onload = function() {
                //프레임 애니메이션
                const imagePath = 'C:\\Users\\LGe\\Downloads\\웹프\\실습\\image\\';
                var count = 0;
                const image = document.getElementById('image');
                var frames = ['0.png', '1.png', '2.png', '3.png', '4.png', '5.png', '6.png', '7.png', '8.png', '9.png', '10.png', '11.png', '12.png', '13.png', '14.png'];
                setInterval(function() {
                    image.src = imagePath + frames[count % frames.length];
                    count++;
                }, 50);
            };

            $(document).ready(function() {
                //객체 추가
                $('#btn1').click(function() {
                    $('#target').prepend("<li>Prepended item</li>");
                });
                $('#btn2').click(function() {
                    $('#target').append("<li>Appended item</li>");
                });
                $('#btn3').click(function() {
                    $('ol').before("<li>Before item</li>");
                });
                $('#btn4').click(function() {
                    $('ol').after("<li>after item</li>");
                });

                //무한스크롤
                var appendDocument = function() {
                    for(var i = 0; i < 20; i++) {
                        $('<h1>Append Data</h1>').appendTo('body');
                    }
                };
                
                $(window).scroll(function() {
                    var scrollHeight = $(window).scrollTop() + $(window).height();
                    var documentHeight = $(document).height();
                    //console.log(scrollHeight + "(scrollHeight) vs. "+ documentHeight);
    
                    //오차 범위 +-1
                    if(scrollHeight-documentHeight <= 1 && scrollHeight-documentHeight >= -1)
                        appendDocument();
                });
            });    
        </script>
    </head>
    <body>
        <img id="image">
        <br><hr>
        <h1>jquery</h1>
        <ol>
            <li>item1</li>
            <li id="target">item2</li>
            <li>item1</li>
        </ol>
        <button id="btn1">prepend</button>
        <button id="btn2">append</button>
        <button id="btn3">before</button>
        <button id="btn4">after</button>
        <br><hr><br><br><br>
        <h1>스크롤 하면 계속 늘어남</h1>
    </body>
</html>
